<div class="container mt-2">
  <div class="row">
    <div class="col-12">
      <div class="card">
        <div class="card-header">Accounts</div>
        <div class="card-body">
          <form [formGroup]="accountFormGroup" (ngSubmit)="handleSearchAccount()">
            <div class="input-group search-group">
              <label class="input-group-text">Account Id :</label>
              <input type="text" formControlName="accountId" class="form-control">
              <button class="btn btn-search" type="submit" aria-label="Search"><i class="bi bi-search"></i></button>
            </div>
          </form>

          <!-- Quick accounts list underneath the search (like customers) -->
          <div class="mt-3">
            <div *ngIf="loadingAccounts" class="text-center py-2">Loading accountsâ€¦</div>
            <table *ngIf="!loadingAccounts && accounts.length" class="table table-sm">
              <thead>
                <tr><th>Account ID</th><th class="text-muted">Type</th><th class="text-end">Balance</th><th></th></tr>
              </thead>
              <tbody>
                <tr *ngFor="let a of accounts">
                  <td>{{ a.id || a.accountId }}</td>
                  <td class="text-muted"><span class="badge" [ngClass]="{'badge-savings': (a.type | accountType) === 'SAVING', 'badge-current': (a.type | accountType) === 'CURRENT'}">{{ a.type | accountType:'label' }}</span></td>
                  <td class="text-end">{{ a.balance | number:'1.2-2' }}</td>
                  <td class="text-end"><button class="btn btn-sm btn-icon" (click)="openAccount(a)" aria-label="Open account"><i class="bi bi-box-arrow-up-right"></i></button></td>
                </tr>
              </tbody>
            </table>
            <div *ngIf="!loadingAccounts && !accounts.length" class="text-muted p-2">No accounts available.</div>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>
